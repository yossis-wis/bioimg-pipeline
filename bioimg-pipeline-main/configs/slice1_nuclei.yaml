# Slice1: nuclear segmentation (StarDist)
#
# 1) Put your .ims (or .tif) under $BIOIMG_DATA_ROOT/raw_staging/
# 2) Put your StarDist model folder under $BIOIMG_DATA_ROOT/models/
# 3) Run:
#      python drivers/run_slice1_nuclei.py --config configs/slice1_nuclei.yaml

input_relpath: raw_staging/my_image.ims
output_runs_dir: runs

# Channel selection (1-based):
#   channel: 1  -> Imaris "Channel 0"
#   channel: 2  -> Imaris "Channel 1"
channel: 1

# Only used for .ims inputs (ignored for .tif):
ims_resolution_level: 0
ims_time_index: 0
ims_z_index: 0

# StarDist model folder (absolute OR relative to $BIOIMG_DATA_ROOT)
# Recommended: models/<model_name>/
stardist_model_dir: models/y22m01d12_model_0

# Preprocessing: percentile normalization (matches your realtime script)
normalize_pmin: 1.0
normalize_pmax: 99.8

# Thresholds:
# If you omit prob_thresh/nms_thresh, StarDist will use the thresholds
# stored in thresholds.json (loaded into model.thresholds).
#
# You can override here if desired:
# prob_thresh: 0.63
# nms_thresh: 0.0

# Optional: write a nucleus properties table (regionprops) to nuclei.parquet
write_nuclei_table: true
