<svg xmlns="http://www.w3.org/2000/svg" width="900" height="360" viewBox="0 0 900 360">
  <title>Why two spectral spikes separated by ~0.01 nm can give unrelated speckle</title>

  <defs>
    <style>
      .panel { stroke: #000; stroke-width: 1.5; fill: none; }
      .axis  { stroke: #000; stroke-width: 2; fill: none; }
      .thin  { stroke: #000; stroke-width: 1.2; fill: none; }
      .ray   { stroke: #000; stroke-width: 2.2; fill: none; }
      .phasor { stroke: #000; stroke-width: 2.0; fill: none; }
      .dash  { stroke-dasharray: 6 4; }
      .label { font-family: sans-serif; font-size: 16px; fill: #000; }
      .small { font-family: sans-serif; font-size: 13px; fill: #000; }
      .speck { stroke: #000; stroke-width: 1.1; fill: none; }
    </style>
  </defs>

  <text class="label" x="40" y="26">Discrete picture: same guided paths, different phases → different interference → different speckle</text>

  <!-- Two panels -->
  <rect class="panel" x="40" y="44" width="400" height="250"/>
  <rect class="panel" x="460" y="44" width="400" height="250"/>

  <text class="label" x="60" y="74">Spike A: λₐ</text>
  <text class="label" x="480" y="74">Spike B: λᵦ = λₐ + δλ</text>

  <!-- δλ arrow between panels -->
  <line class="axis" x1="440" y1="82" x2="460" y2="82"/>
  <polygon points="460,82 450,76 450,88" fill="#000"/>
  <polygon points="440,82 450,76 450,88" fill="#000" transform="rotate(180 440 82)"/>
  <text class="small" x="400" y="102">δλ ~ 0.01 nm</text>

  <!-- Left panel: fiber box -->
  <rect class="thin" x="70" y="112" width="250" height="120"/>
  <line class="thin dash" x1="70" y1="172" x2="320" y2="172"/>
  <text class="small" x="74" y="108">step-index MMF (cartoon)</text>

  <!-- Left panel: ray-like paths (represent mode delays) -->
  <line class="ray" x1="80" y1="172" x2="310" y2="172"/>
  <polyline class="ray" points="80,172 118,112 156,232 194,112 232,232 270,112 310,172"/>
  <polyline class="ray" points="80,172 130,132 180,212 230,132 280,212 310,172"/>

  <line class="thin" x1="320" y1="112" x2="320" y2="232"/>
  <text class="small" x="86" y="250">Different guided angles → different optical path lengths (ΔOPL).</text>

  <!-- Left panel: phasor sum at one output pixel -->
  <circle class="thin" cx="355" cy="172" r="34"/>
  <line class="thin dash" x1="321" y1="172" x2="389" y2="172"/>
  <line class="thin dash" x1="355" y1="138" x2="355" y2="206"/>

  <line class="phasor" x1="355" y1="172" x2="385" y2="160"/>
  <line class="phasor" x1="355" y1="172" x2="370" y2="200"/>
  <line class="phasor" x1="355" y1="172" x2="338" y2="142"/>
  <line class="phasor" x1="355" y1="172" x2="392" y2="178"/>
  <text class="small" x="330" y="120">phasors @ λₐ</text>

  <!-- Left panel: speckle patch (schematic) -->
  <rect class="thin" x="395" y="126" width="32" height="92"/>
  <circle class="speck" cx="405" cy="138" r="3"/>
  <circle class="speck" cx="415" cy="150" r="2"/>
  <circle class="speck" cx="423" cy="144" r="4"/>
  <circle class="speck" cx="402" cy="164" r="4"/>
  <circle class="speck" cx="420" cy="170" r="2"/>
  <circle class="speck" cx="410" cy="182" r="3"/>
  <circle class="speck" cx="425" cy="188" r="4"/>
  <circle class="speck" cx="403" cy="196" r="2"/>
  <circle class="speck" cx="417" cy="206" r="3"/>
  <text class="small" x="392" y="228">speckle A</text>

  <!-- Right panel: same fiber, same paths -->
  <rect class="thin" x="490" y="112" width="250" height="120"/>
  <line class="thin dash" x1="490" y1="172" x2="740" y2="172"/>

  <line class="ray" x1="500" y1="172" x2="730" y2="172"/>
  <polyline class="ray" points="500,172 538,112 576,232 614,112 652,232 690,112 730,172"/>
  <polyline class="ray" points="500,172 550,132 600,212 650,132 700,212 730,172"/>

  <line class="thin" x1="740" y1="112" x2="740" y2="232"/>
  <text class="small" x="506" y="250">Only λ changed ⇒ each phasor rotates by δφₖ.</text>

  <!-- Right panel: phasors rotated -->
  <circle class="thin" cx="775" cy="172" r="34"/>
  <line class="thin dash" x1="741" y1="172" x2="809" y2="172"/>
  <line class="thin dash" x1="775" y1="138" x2="775" y2="206"/>

  <line class="phasor" x1="775" y1="172" x2="800" y2="190"/>
  <line class="phasor" x1="775" y1="172" x2="745" y2="185"/>
  <line class="phasor" x1="775" y1="172" x2="792" y2="144"/>
  <line class="phasor" x1="775" y1="172" x2="808" y2="164"/>
  <text class="small" x="748" y="120">phasors @ λᵦ</text>

  <!-- Right panel: speckle patch B (different) -->
  <rect class="thin" x="815" y="126" width="32" height="92"/>
  <circle class="speck" cx="827" cy="140" r="4"/>
  <circle class="speck" cx="820" cy="150" r="2"/>
  <circle class="speck" cx="840" cy="154" r="3"/>
  <circle class="speck" cx="834" cy="170" r="4"/>
  <circle class="speck" cx="822" cy="176" r="3"/>
  <circle class="speck" cx="845" cy="188" r="2"/>
  <circle class="speck" cx="820" cy="194" r="4"/>
  <circle class="speck" cx="837" cy="200" r="2"/>
  <circle class="speck" cx="828" cy="210" r="3"/>
  <text class="small" x="812" y="228">speckle B</text>

  <!-- Bottom formula line -->
  <text class="small" x="40" y="330">At a pixel: U(λ)=∑ₖ aₖ·exp(i·2π·OPLₖ/λ),  I=|U|².  Small shift: δφₖ≈(2π·OPLₖ/λ²)·δλ.  If δλ ≳ Δλ_c≈λ²/ΔOPL, phases scramble → patterns decorrelate.</text>
</svg>
